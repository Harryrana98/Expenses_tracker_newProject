<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KhataBook</title>
</head>

<body>




    <div id="wrapper">


        <div>
            <input type="number" name="" id="total" placeholder="Total Amount">

            <button id="add">Add Money</button><br>

        </div>

        <input type="text" name="" id="name" placeholder="Name of Expense">
        <input type="number" name="" id="amount" placeholder="Amount of expense">

        <button id="expense">Expense</button>

        <div id="totalamount">Total: <span></span>
        </div>

        <div id="spent">Spent: <span></span>
        </div>

        <div id="remain">Remainning: <span></span>
        </div>

         <table id="store">
            <tr>
                <th>S.No.</th>
                <th>Expense Name</th>
                <th>Expense Price</th>



            </tr>

        </table>




    </div>

</body>

<script>


    let totalInput = document.querySelector("#total")
    let spentSpan = document.querySelector("#spent span")
    let remainSpan = document.querySelector("#remain span")
    
    let nameInput = document.querySelector("#name")
    let amountInput = document.querySelector("#amount")
    let expenseButton = document.querySelector("#expense")
    let addButton = document.querySelector("#add")
    let totalAmountSpan = document.querySelector("#totalamount span")
    let table=document.querySelector("#store")
    let totalAmount = 0
    let totalSpent = 0
    let x=0;

    add.addEventListener("click", function () {
        totalAmount = Number(totalInput.value)+Number(totalAmount);
        totalAmountSpan.innerHTML = totalAmount;
        remainSpan.innerHTML = totalAmount - totalSpent;


    })

    expense.addEventListener("click", function () {
       
        let expenseAmount = Number(amountInput.value)

        if (!nameInput.value || expenseAmount <= 0) {
            alert("Please enter a valid expense name and amount.");
            return;
        }


        if (totalAmount < totalSpent + expenseAmount) {
            alert("You don't have enough money to make this expense.");
            return;
        }


        totalSpent = totalSpent + expenseAmount;

        spentSpan.innerHTML = totalSpent;
        remainSpan.innerHTML = totalAmount - totalSpent;

        // totalAmount=remainSpan.value

        // let p1 = document.createElement('p')
        // let p2 = document.createElement('p')


        // totalamount.append(p1)
        // totalamount.append(p2)
        // p1.innerHTML = "Expense Name: " + nameInput.value
        // p2.innerHTML = "Expense Price: " + amountInput.value
        
        
        
        
        
        
        
        let row = table.insertRow(0)
        let cell1 = row.insertCell(0)
        let cell2 = row.insertCell(1)
        let cell3 = row.insertCell(2)
        table.append(row)
        cell1.innerHTML = ++x
        cell2.innerHTML =  nameInput.value
        cell3.innerHTML = amountInput.value
        
        nameInput.value = ""
        amountInput.value = ""
        totalInput.value=""








    })




</script>

</html>